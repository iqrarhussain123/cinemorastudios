---
const primaryCta = { label: "Book a Strategy Call", href: "#book" };
const secondaryCta = { label: "See Proof", href: "#proof" };

// Put your video here: /public/videos/showreel.mp4
const videoSrc = "/videos/showreel.mp4";

// Put your thumbnail here: /public/images/hero-video-thumb.jpg (1920x1080)
const posterSrc = "/images/hero-video-thumb.jpg";
---

<section class="hero-section relative overflow-hidden bg-[#f1f1f2]">
  <div class="hero-bg pointer-events-none absolute inset-0 z-0">
    <img
      src="/images/background.jpeg"
      alt=""
      class="h-full w-full object-cover"
      loading="eager"
      decoding="async"
      draggable="false"
    />
    <!-- Darken top for readability while keeping the bottom fade intact -->
    <div class="absolute inset-0 bg-gradient-to-b from-black/65 via-black/40 to-transparent"></div>
  </div>

  <div class="relative z-10">
    <div class="mx-auto flex max-w-7xl flex-col gap-8 px-4 sm:px-6 pt-24 pb-16 sm:pt-28 md:pt-36 md:pb-24">
      <!-- top pill -->
      <div class="hero-pill hero-reveal-1 mb-4 inline-flex w-fit items-center gap-1.5 self-start rounded-full border border-zinc-800/80 bg-zinc-900/50 px-2 py-1 text-xs text-zinc-200">
        <span class="h-2 w-2 rounded-full bg-lime-400"></span>
        Content systems that convert
      </div>

      <!-- Text block -->
      <div class="mx-auto mt-2 max-w-4xl text-center">
        <h1 class="hero-title hero-reveal-2 text-4xl font-extrabold leading-tight tracking-tight text-zinc-50 sm:text-5xl md:text-7xl">
          We turn <span class="text-lime-400">attention</span> into{" "}
          <span class="text-lime-400">clients.</span>
        </h1>

        <p class="hero-sub hero-reveal-3 mt-4 text-base leading-relaxed text-zinc-200 sm:text-lg md:text-xl">
          Cinemora helps founders and brands build authority on LinkedIn with a repeatable content system,
          conversion-focused creatives, and proof-led strategy.
        </p>

        <div class="hero-ctas hero-reveal-4 mt-6 flex flex-col justify-center gap-3 sm:flex-row">
          <a
            href={primaryCta.href}
            class="inline-flex items-center justify-center rounded-2xl bg-lime-400 px-3 py-2.5 text-base font-semibold text-zinc-950 shadow-lg shadow-lime-400/20 transition hover:brightness-110 sm:px-4 lg:rounded-full lg:px-6 lg:py-3"
          >
            {primaryCta.label}
          </a>

          <a
            href={secondaryCta.href}
            class="inline-flex items-center justify-center rounded-2xl border border-zinc-700 bg-zinc-950/40 px-3 py-2.5 text-base font-semibold text-zinc-100 transition hover:border-lime-400/60 hover:bg-zinc-900/40 sm:px-4 lg:rounded-full lg:px-6 lg:py-3"
          >
            {secondaryCta.label}
          </a>
        </div>

      </div>

      <!-- Big video under text (Thumbnail + Hover-to-play) -->
      <div class="hero-video hero-reveal-6 mt-12 md:mt-16">
        <div class="mx-auto max-w-7xl rounded-3xl border border-zinc-800 bg-zinc-900/30 p-3 shadow-[0_30px_120px_-40px_rgba(0,0,0,0.95)] md:p-4">
          <div
            id="heroVideoWrap"
            class="relative aspect-video overflow-hidden rounded-2xl border border-zinc-800 bg-black"
          >
            <div class="pointer-events-none absolute inset-0 hero-video-overlay"></div>
            <video
              id="heroVideo"
              class="h-full w-full object-cover"
              muted
              playsinline
              preload="metadata"
              poster={posterSrc}
            >
              <source src={videoSrc} type="video/mp4" />
              Your browser does not support the video tag.
            </video>

          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="hero-bottom-fade pointer-events-none absolute inset-x-0 bottom-0"></div>

  <!-- Hover logic (Astro-safe) -->
  <script is:inline>
    const wrap = document.getElementById("heroVideoWrap");
    const video = document.getElementById("heroVideo");

    if (wrap && video) {
      wrap.addEventListener("mouseenter", async () => {
        try {
          video.currentTime = 0;
          await video.play();
        } catch (e) {
          // autoplay policies can block play sometimes; user can still click play if needed
        }
      });

      wrap.addEventListener("mouseleave", () => {
        video.pause();
        video.currentTime = 0;
        video.load(); // forces poster thumbnail to show again
      });
    }
  </script>
</section>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&display=swap");

  .hero-section {
    min-height: 100svh;
  }

  .hero-bottom-fade {
    height: 140px;
    background: linear-gradient(to bottom, rgba(241, 241, 242, 0), #f1f1f2 80%);
  }

  .hero-reveal-1 { animation-delay: 80ms; }
  .hero-reveal-2 { animation-delay: 160ms; }
  .hero-reveal-3 { animation-delay: 240ms; }
  .hero-reveal-4 { animation-delay: 320ms; }
  .hero-reveal-5 { animation-delay: 400ms; }
  .hero-reveal-6 { animation-delay: 520ms; }

  .hero-pill {
    opacity: 0;
    animation: hero-pill 900ms ease forwards;
  }

  .hero-title {
    opacity: 0;
    animation: hero-title 900ms ease forwards;
  }

  .hero-sub {
    opacity: 0;
    animation: hero-sub 900ms ease forwards;
  }

  .hero-ctas {
    opacity: 0;
    animation: hero-ctas 900ms ease forwards;
  }

  .hero-tags {
    opacity: 0;
    animation: hero-tags 900ms ease forwards;
  }

  .hero-video {
    opacity: 0;
    animation: hero-video 900ms ease forwards;
  }

  @keyframes hero-pill {
    from { opacity: 0; transform: translateY(12px) scale(0.96); filter: blur(4px); }
    to { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
  }

  @keyframes hero-title {
    from { opacity: 0; transform: translateY(22px); letter-spacing: 0.02em; }
    to { opacity: 1; transform: translateY(0); letter-spacing: 0; }
  }

  @keyframes hero-sub {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes hero-ctas {
    from { opacity: 0; transform: translateY(12px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  @keyframes hero-tags {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes hero-video {
    from { opacity: 0; transform: translateY(20px) scale(0.985); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-pill,
    .hero-title,
    .hero-sub,
    .hero-ctas,
    .hero-tags,
    .hero-video {
      animation: none;
      opacity: 1;
      transform: none;
      filter: none;
    }
  }

  @media (max-width: 640px) {
    .hero-title {
      font-family: "Playfair Display", "Times New Roman", serif;
    }
  }
</style>
